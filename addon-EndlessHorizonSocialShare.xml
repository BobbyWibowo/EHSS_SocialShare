<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="EndlessHorizonSocialShare" title="[Endless Horizon] Social Share" version_string="1.3.3" version_id="133" url="https://www.endlesshorizon.net/" install_callback_class="" install_callback_method="" uninstall_callback_class="" uninstall_callback_method="">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates/>
  <admin_template_modifications/>
  <code_events/>
  <code_event_listeners>
    <listener event_id="front_controller_post_view" execute_order="10" callback_class="EndlessHorizon_SocialShare_Listener" callback_method="front_controller_post_view" active="1" hint="" description="Look for keys on page and replace when necessary"/>
  </code_event_listeners>
  <cron/>
  <email_templates/>
  <email_template_modifications/>
  <optiongroups>
    <group group_id="EndlessHorizonSocialShare" display_order="1" debug_only="0"/>
    <option option_id="EHSS_CacheHitDebug" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="330"/>
    </option>
    <option option_id="EHSS_CacheIdSuffix" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="325"/>
    </option>
    <option option_id="EHSS_CacheTime" edit_format="textbox" data_type="positive_integer" can_backup="1">
      <default_value>21600</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="310"/>
    </option>
    <option option_id="EHSS_CurlCertInfo" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="360"/>
    </option>
    <option option_id="EHSS_CurlDebug" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="335"/>
    </option>
    <option option_id="EHSS_CurlSslVerify" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="350"/>
    </option>
    <option option_id="EHSS_CurlTimeout" edit_format="textbox" data_type="positive_integer" can_backup="1">
      <default_value>500</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="340"/>
    </option>
    <option option_id="EHSS_DisableCurl" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="305"/>
    </option>
    <option option_id="EHSS_EmailBody" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>{title}%0D%0A%0D%0AGo check it out with this link: {url}</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="430"/>
    </option>
    <option option_id="EHSS_EmailSubject" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>I thought you might like this!</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="420"/>
    </option>
    <option option_id="EHSS_EnableFontAwesome" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="10"/>
    </option>
    <option option_id="EHSS_FontAwesomeCssPath" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="20"/>
    </option>
    <option option_id="EHSS_KeepTrying" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="320"/>
    </option>
    <option option_id="EHSS_PinterestMedia" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>http://YOUR_DOMAIN/styles/default/xenforo/logo.og.png</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="415"/>
    </option>
    <option option_id="EHSS_ShareCounter" edit_format="checkbox" data_type="array" can_backup="1">
      <default_value>a:6:{s:8:"facebook";b:0;s:7:"twitter";b:0;s:10:"googleplus";b:0;s:8:"linkedin";b:0;s:9:"pinterest";b:0;s:2:"vk";b:0;}</default_value>
      <edit_format_params>facebook=Facebook
twitter=Twitter
googleplus=Google+
linkedin=LinkedIn
pinterest=Pinterest
vk=ВКонтакте (VK)</edit_format_params>
      <sub_options>facebook
twitter
googleplus
linkedin
pinterest
vk</sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="300"/>
    </option>
    <option option_id="EHSS_SocialSites" edit_format="checkbox" data_type="array" can_backup="1">
      <default_value>a:13:{s:8:"facebook";b:1;s:7:"twitter";b:1;s:10:"googleplus";b:1;s:8:"linkedin";b:1;s:11:"stumbleupon";b:1;s:9:"pinterest";b:1;s:9:"delicious";b:1;s:6:"tumblr";b:1;s:6:"reddit";b:1;s:2:"vk";b:1;s:8:"whatsapp";b:1;s:4:"line";b:0;s:5:"email";b:1;}</default_value>
      <edit_format_params>facebook=Facebook
twitter=Twitter
googleplus=Google+
linkedin=LinkedIn
stumbleupon=StumbleUpon
pinterest=Pinterest
delicious=Delicious
tumblr=Tumblr
reddit=Reddit
vk=ВКонтакте (VK)
whatsapp=WhatsApp
line=LINE (be warned, the icon will use an image instead of FontAwesome)
email=E-Mail</edit_format_params>
      <sub_options>facebook
twitter
googleplus
linkedin
stumbleupon
pinterest
delicious
tumblr
reddit
vk
whatsapp
line
email</sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="200"/>
    </option>
    <option option_id="EHSS_TweetParamRelated" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="410"/>
    </option>
    <option option_id="EHSS_TweetParamVia" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="400"/>
    </option>
    <option option_id="EHSS_ViewPages" edit_format="checkbox" data_type="array" can_backup="1">
      <default_value>a:2:{s:3:"top";b:1;s:6:"bottom";b:0;}</default_value>
      <edit_format_params>top={xen:phrase option_EHSS_ViewOptions_top}
bottom={xen:phrase option_EHSS_ViewOptions_bottom}</edit_format_params>
      <sub_options>top
bottom</sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="110"/>
    </option>
    <option option_id="EHSS_ViewThreads" edit_format="checkbox" data_type="array" can_backup="1">
      <default_value>a:3:{s:3:"top";b:0;s:6:"bottom";b:1;s:15:"aboveQuickReply";b:0;}</default_value>
      <edit_format_params>top={xen:phrase option_EHSS_ViewOptions_top}
bottom={xen:phrase option_EHSS_ViewOptions_bottom}
aboveQuickReply={xen:phrase option_EHSS_ViewOptions_aboveQuickReply}</edit_format_params>
      <sub_options>top
bottom
aboveQuickReply</sub_options>
      <relation group_id="EndlessHorizonSocialShare" display_order="100"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups/>
    <permissions/>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="option_EHSS_CacheHitDebug" version_id="120" version_string="1.2.0"><![CDATA[Enable Cache Hit Debug]]></phrase>
    <phrase title="option_EHSS_CacheHitDebug_explain" version_id="127" version_string="1.2.7"><![CDATA[Enabling this option will force the add-on to output cache hit status to Server Error Log. You may want to enable this for the first few minutes prior to installing the add-on to see if the cache is being used correctly.]]></phrase>
    <phrase title="option_EHSS_CacheIdSuffix" version_id="132" version_string="1.3.2"><![CDATA[Cache ID Suffix]]></phrase>
    <phrase title="option_EHSS_CacheIdSuffix_explain" version_id="132" version_string="1.3.2"><![CDATA[<i>(Optional)</i> You may enter any random string here if you want to force the add-on to fetch new share counts even if previous fetches were still available on cache. Please note the the previous share counts will remain on your cache until they are expired.]]></phrase>
    <phrase title="option_EHSS_CacheTime" version_id="132" version_string="1.3.2"><![CDATA[Share Counts Cache Time (s)]]></phrase>
    <phrase title="option_EHSS_CacheTime_explain" version_id="132" version_string="1.3.2"><![CDATA[Set how long the share counts will be cached until they will be fetched again (in seconds).<br>
<b>NOTE:</b> This requires your XenForo installation to have any back-end caching enabled on config.php!]]></phrase>
    <phrase title="option_EHSS_CurlCertInfo" version_id="133" version_string="1.3.3"><![CDATA[cURL Option: Use the add-on's Certificate Bundle]]></phrase>
    <phrase title="option_EHSS_CurlCertInfo_explain" version_id="133" version_string="1.3.3"><![CDATA[<b>NOTE:</b> If you've had included certificate info in your php.ini, it's recommended to disable this option to avoid conflicts.]]></phrase>
    <phrase title="option_EHSS_CurlDebug" version_id="127" version_string="1.2.7"><![CDATA[Enable cURL Debug]]></phrase>
    <phrase title="option_EHSS_CurlDebug_explain" version_id="127" version_string="1.2.7"><![CDATA[Enabling this option will make the add-on output whatever problem occurred with the cURL session to your Server Error Logs. If some social sites never returned share count to your server, you may want to know why by enabling this option. Other than that, this will be used for development only.]]></phrase>
    <phrase title="option_EHSS_CurlSslVerify" version_id="131" version_string="1.3.1"><![CDATA[cURL Option: Verify Host & Peer]]></phrase>
    <phrase title="option_EHSS_CurlSslVerify_explain" version_id="132" version_string="1.3.2"><![CDATA[Enable this option to tell cURL to check the existence of common name and verify that it matches the hostname provided.<br>
<b>NOTE:</b> For cURL version 7.10 or newer, this option will also tell cURL to verify peer's certificate.]]></phrase>
    <phrase title="option_EHSS_CurlTimeout" version_id="121" version_string="1.2.1"><![CDATA[cURL Timeout (ms)]]></phrase>
    <phrase title="option_EHSS_CurlTimeout_explain" version_id="127" version_string="1.2.7"><![CDATA[Set how long will you let the cURL to run for every try to fetch the share count from social site (in milliseconds). This will depend strongly on your server's ping to the social sites. So, servers with better ping may have this lower, while servers with higher ping should have this higher.<br>
<b>NOTE:</b> To disable timeout limit, set this option to 0.<br>
And if your cURL is older than version 7.6.12, then the add-on will automatically convert the entered value into seconds, and then round the fractions up with <a href="https://secure.php.net/manual/en/function.ceil.php" target="_blank">ceil</a> function.]]></phrase>
    <phrase title="option_EHSS_DisableCurl" version_id="127" version_string="1.2.7"><![CDATA[Disable cURL]]></phrase>
    <phrase title="option_EHSS_DisableCurl_explain" version_id="127" version_string="1.2.7"><![CDATA[If you don't want to use cURL for whatever reason, then disable it here. After that, the add-on will use <a href="http://us2.php.net/manual/en/function.file-get-contents.php" target="_blank">file_get_contents</a> function instead. Please note that there is no timeout feature. And if you want to disable all share counters instead, then disable all sites from the <i>Enable Share Counter</i> option above.<br>
<b>NOTE:</b> If you don't have cURL, the add-on will still automatically use <a href="http://us2.php.net/manual/en/function.file-get-contents.php" target="_blank">file_get_contents</a> function.]]></phrase>
    <phrase title="option_EHSS_EmailBody" version_id="126" version_string="1.2.6"><![CDATA[E-Mail: Body]]></phrase>
    <phrase title="option_EHSS_EmailBody_explain" version_id="126" version_string="1.2.6"><![CDATA[Set your preferred body for the email share here.<br>
You may also use these params: <b>{url}</b> for the page's URL and <b>{title}</b> for the page's title.<br>
<b>Hint:</b> You may actually use any available <i>replace methods</i> on <i>eh_socialshare_js</i> template.<br>
<b>Add. Hint:</b> If you want to add new lines, write <b>%0D%0A</b> at the end of every line which will have a new line after them.]]></phrase>
    <phrase title="option_EHSS_EmailSubject" version_id="126" version_string="1.2.6"><![CDATA[E-Mail: Subject]]></phrase>
    <phrase title="option_EHSS_EmailSubject_explain" version_id="126" version_string="1.2.6"><![CDATA[Set your preferred subject for the email share here.<br>
You may also use these params: <b>{url}</b> for the page's URL and <b>{title}</b> for the page's title.<br>
<b>Hint:</b> You may actually use any available <i>replace methods</i> on <i>eh_socialshare_js</i> template.]]></phrase>
    <phrase title="option_EHSS_EnableFontAwesome" version_id="133" version_string="1.3.3"><![CDATA[Enable Font Awesome]]></phrase>
    <phrase title="option_EHSS_EnableFontAwesome_explain" version_id="133" version_string="1.3.3"><![CDATA[If you haven't added Font Awesome by your own, you can use this add-on to enable it (don't forget to fill <i>Font Awesome CSS Path</i> option below).<br>
<b>NOTE:</b> This add-on will only add the Font Awesome on pages that have the share page widget.]]></phrase>
    <phrase title="option_EHSS_FontAwesomeCssPath" version_id="133" version_string="1.3.3"><![CDATA[Font Awesome CSS Path]]></phrase>
    <phrase title="option_EHSS_FontAwesomeCssPath_explain" version_id="133" version_string="1.3.3"><![CDATA[Path to the main CSS of Font Awesome. This can be a relative or a fixed path.]]></phrase>
    <phrase title="option_EHSS_KeepTrying" version_id="126" version_string="1.2.6"><![CDATA[Keep Trying When Fail]]></phrase>
    <phrase title="option_EHSS_KeepTrying_explain" version_id="127" version_string="1.2.7"><![CDATA[If the add-on can't fetch any share counts from ALL social sites, the add-on will keep on trying to fetch them on the next page loads.]]></phrase>
    <phrase title="option_EHSS_PinterestMedia" version_id="126" version_string="1.2.6"><![CDATA[Pinterest: Media URL]]></phrase>
    <phrase title="option_EHSS_PinterestMedia_explain" version_id="127" version_string="1.2.7"><![CDATA[A fixed path to a JPG, PNG or GIF image that will be used as pin for Pinterest share.<br>
<b>Note:</b> Do not use a relative path. Pinterest will try to fetch the image remotely, so it will need direct access to the image. Thus it will also fail if you have an anti hotlinking service enabled.]]></phrase>
    <phrase title="option_EHSS_ShareCounter" version_id="132" version_string="1.3.2"><![CDATA[Enable Share Counts]]></phrase>
    <phrase title="option_EHSS_ShareCounter_explain" version_id="132" version_string="1.3.2"><![CDATA[<i>(Optional)</i> Choose sites you want their share counts to be fetched by the add-on. Please note that even if you have a site disabled in <i>Enable Social Sites</i> option, the add-on will still fetch its share count as long as you have it enabled in this option, so you need to disable it here too.<br>
<b>NOTE:</b> Strongly suggested not to enable this feature if your XenForo installation doesn't have any <a href="https://xenforo.com/help/cache/" target="_blank">back-end caching</a> enabled. Otherwise there'll be a considerable performance impact, as the server will have to fetch share counts on EVERY page load.<br>]]></phrase>
    <phrase title="option_EHSS_SocialSites" version_id="120" version_string="1.2.0"><![CDATA[Enable Social Sites]]></phrase>
    <phrase title="option_EHSS_SocialSites_explain" version_id="120" version_string="1.2.0"><![CDATA[Choose social sites that you want to enable. Disabling all sites will prevent any necessary JS files to be loaded, so you may use this method if you want to temporarily prevent the add-on from loading on the front-end without completely disabling it.]]></phrase>
    <phrase title="option_EHSS_TweetParamRelated" version_id="106" version_string="1.0.6"><![CDATA[Tweet Parameter: Related]]></phrase>
    <phrase title="option_EHSS_TweetParamRelated_explain" version_id="132" version_string="1.3.2"><![CDATA[<i>(Optional)</i> A comma-separated list of accounts related to the content of the shared URI.]]></phrase>
    <phrase title="option_EHSS_TweetParamVia" version_id="106" version_string="1.0.6"><![CDATA[Tweet Parameter: Via]]></phrase>
    <phrase title="option_EHSS_TweetParamVia_explain" version_id="132" version_string="1.3.2"><![CDATA[<i>(Optional)</i> Attribute the source of a Tweet to a Twitter username.]]></phrase>
    <phrase title="option_EHSS_ViewOptions_aboveQuickReply" version_id="127" version_string="1.2.7"><![CDATA[Above Quick Reply]]></phrase>
    <phrase title="option_EHSS_ViewOptions_bottom" version_id="106" version_string="1.0.6"><![CDATA[Bottom]]></phrase>
    <phrase title="option_EHSS_ViewOptions_top" version_id="106" version_string="1.0.6"><![CDATA[Top]]></phrase>
    <phrase title="option_EHSS_ViewPages" version_id="106" version_string="1.0.6"><![CDATA[View on Pages]]></phrase>
    <phrase title="option_EHSS_ViewPages_explain" version_id="120" version_string="1.2.0"><![CDATA[Select where you want the social share page widget to show on pages. The default is on the bottom, but it may not fit correctly without extra styling. Thus for this add-on only, the default is on the top. If you want to enable it on the bottom, you may need to add some extra styling to make it fit correctly.]]></phrase>
    <phrase title="option_EHSS_ViewThreads" version_id="106" version_string="1.0.6"><![CDATA[View on Threads]]></phrase>
    <phrase title="option_EHSS_ViewThreads_explain" version_id="127" version_string="1.2.7"><![CDATA[Select where you want the social share page widget to show on threads. The default is on the bottom, but you can also have it enabled on the top, or above the quick reply instead.]]></phrase>
    <phrase title="option_group_EndlessHorizonSocialShare" version_id="1" version_string="1.0.0"><![CDATA[[Endless Horizon] Social Share]]></phrase>
    <phrase title="option_group_EndlessHorizonSocialShare_description" version_id="120" version_string="1.2.0"><![CDATA[Floating social share widget.<br>
Made with love by <a href="https://www.twitter.com/BobbyWibowoB" target="_blank">Bobby Wibowo</a>.]]></phrase>
    <phrase title="view_EHSS_button_text" version_id="106" version_string="1.0.6"><![CDATA[Share This Page]]></phrase>
    <phrase title="view_EHSS_count_title" version_id="110" version_string="1.1.0"><![CDATA[This page was shared {x} time(s)]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties/>
  <templates>
    <template title="eh_socialshare" version_id="130" version_string="1.3.0"><![CDATA[<xen:require css="eh_socialshare.css" />
<xen:require js="js/EndlessHorizon/SocialShare/main.min.js?_v={$xenAddOns.EndlessHorizonSocialShare}" />

<button class="button primary eh_socialshare {xen:if '{$aboveQuickReply}', 'aboveQuickReply'}"><i class="fa fa-share-alt"></i><span>{xen:phrase view_EHSS_button_text}</span></button>]]></template>
    <template title="eh_socialshare.css" version_id="130" version_string="1.3.0"><![CDATA[.eh_socialshare {
	width: 100%;
	height: auto;
	padding: 10px;
	line-height: normal; }
.eh_socialshare .fa {
	margin-right: 6px;
	font-size: 16px;
	line-height: normal;
	vertical-align: middle; }
.eh_socialshare span {
	display: inline-block;
	font-size: 13px;
	line-height: normal; 
	vertical-align: middle; }

.eh_socialshare.aboveQuickReply { margin-bottom: 10px; }

/* OVERLAY TECHNIQUE - COURTESY OF SOCIAL: http://tolgaergin.com/files/social/index.html */
.eh_socialshare_popup {
	position: fixed;
	top: 0;
	left: 0;
	background: rgba(0, 0, 0, .6);
	z-index: 9999;
	width: 100%;
	height: 100%;
	text-align: center;
	overflow-y: auto; }
.eh_socialshare_popup .items_container {
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
	text-align: center; }
.eh_socialshare_popup .items_container:before {
	content: '';
	height: 100%;
	display: inline-block;
	vertical-align: middle; }
.eh_socialshare_popup .items_container .centered {
	display: inline-block;
	vertical-align: middle;
	width: 80%;
	max-width: 720px;
	padding: 1em; }
.eh_socialshare_popup .items_container .centered ul li {
	display: inline-block;
	padding: 10px; }
.eh_socialshare_popup .items_container .centered ul li > span {
	display: block;
	color: white;
	font-weight: bold;
	font-size: 13px;
	margin-top: 10px;
	text-shadow: 0 2px 2px rgba(0, 0, 0, .8); }
.eh_socialshare_popup .items_container .centered ul li a span {
	display: block;
	width: 100px;
	height: 100px;
	box-shadow: 0 2px 2px rgba(0, 0, 0, .4);
	transform: translateZ(0);
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	-moz-osx-font-smoothing: grayscale;
	-webkit-transition-duration: 0.5s;
	transition-duration: 0.5s;
	cursor: pointer; }
.eh_socialshare_popup .items_container .centered ul li a span:hover {
	-webkit-transform: scale(1.2);
	transform: scale(1.2);
	-webkit-transition-timing-function: cubic-bezier(0.47, 2.02, 0.31, -0.36);
	transition-timing-function: cubic-bezier(0.47, 2.02, 0.31, -0.36); }
.eh_socialshare_popup .items_container .centered ul li a span:before {
	content: '';
	height: 100%;
	display: inline-block;
	vertical-align: middle; }
.eh_socialshare_popup .items_container .centered ul li a span .shareCount {
	position: absolute;
	font-style: normal;
	font-weight: bold;
	background-color: white;
	bottom: 5px;
	right: 5px;
	padding: 1px 2px;
	font-size: 12px;
	border-radius: 2px;
	box-shadow: 0 2px 2px rgba(0, 0, 0, .4); }
.eh_socialshare_popup .items_container .centered ul li a span .fa,
.eh_socialshare_popup .items_container .centered ul li a span .ehss {
	vertical-align: middle;
	color: white;
	font-size: 50px;
	text-shadow: 0 2px 2px rgba(0, 0, 0, .4); }
.eh_socialshare_popup .items_container .centered ul li a span .ehss {
	width: 100%;
    height: 100%;
    display: inline-block;
    background-size: contain; }
.eh_socialshare_popup .items_container .centered ul li a span .ehss.ehss-line {
	background-image: url('styles/endlesshorizon/socialshare/line.png'); }]]></template>
    <template title="eh_socialshare_js" version_id="133" version_string="1.3.3"><![CDATA[<xen:if is="{$xenOptions.EHSS_EnableFontAwesome} && {$xenOptions.EHSS_FontAwesomeCssPath}"><link href="{$xenOptions.EHSS_FontAwesomeCssPath}" rel="stylesheet"></xen:if>

<xen:if is="in_array(true, {$xenOptions.EHSS_ShareCounter})">
    <xen:set var="$ehss_share_counts"><xen:callback class="EndlessHorizon_SocialShare_Listener" method="getShareCounts"></xen:callback></xen:set>
</xen:if>

<script>
    var ehss_settings = {
        "data-url"         : "{$requestPaths.fullUri}",
        "data-lang"        : "{xen:helper twitterLang, $visitorLanguage.language_code}",
        "data-count-title" : "{xen:phrase view_EHSS_count_title}",
        "data-counts"      : "{$ehss_share_counts}"
    };

    // Xen:callback will return value that went through htmlspecialchars function, so decode the necessary char here - https://secure.php.net/manual/en/function.htmlspecialchars.php
    ehss_settings["data-counts"] = ehss_settings["data-counts"].replace(/&quot;/g, "\"");

    var ehss_replace_methods = [
        // Value (see ehss_settings variable)
        // Entering certain integer into the 'value' will force the script to do certain custom task (1 - document.title)
        { key: "{lang}",       value: "data-lang" },
        { key: "{url}",        value: "data-url" },
        { key: "{title}",      value: 1 },
    ];

    var ehss_social_sites = [
        // Read this: http://docs.webplatform.org/wiki/dom/Window/open to know more about the parameters of window.open() (URL, name, and specs)
        <xen:if is="{$xenOptions.EHSS_SocialSites.facebook}">
        { name: "Facebook",
            iconClass:    "fa fa-facebook",
            bgColor:      "#3b5998",
            popupURL:     "https://www.facebook.com/sharer/sharer.php?u={url}&t={title}",
            popupName:    null,
            popupSpecs:   "toolbar=0, status=0, width=900, height=500",
            shareCountID: "facebook"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.twitter}">
        { name: "Twitter",
            iconClass:    "fa fa-twitter",
            bgColor:      "#00aced",
            popupURL:     "https://twitter.com/intent/tweet?text={title}&url={url}{xen:if '{$xenOptions.EHSS_TweetParamVia}', '&via={$xenOptions.EHSS_TweetParamVia}'}{xen:if '{$xenOptions.EHSS_TweetParamRelated}', '&related={$xenOptions.EHSS_TweetParamRelated}'}",
            popupName:    null,
            popupSpecs:   "toolbar=0, status=0, width=650, height=360",
            shareCountID: "twitter"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.googleplus}">
        { name: "Google+",
            iconClass:    "fa fa-google-plus",
            bgColor:      "#dd4b39",
            popupURL:     "https://plus.google.com/share?hl={lang}&url={url}",
            popupName:    "Share to Google+",
            popupSpecs:   "toolbar=0, status=0, width=600, height=460",
            shareCountID: "googleplus"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.linkedin}">
        { name: "LinkedIn",
            iconClass:    "fa fa-linkedin",
            bgColor:      "#007bb5",
            popupURL:     "https://www.linkedin.com/cws/share?url={url}&token=&isFramed=true",
            popupName:    "linkedin",
            popupSpecs:   "toolbar=no, width=550, height=550",
            shareCountID: "linkedin"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.stumbleupon}">
        { name: "StumbleUpon",
            iconClass:    "fa fa-stumbleupon",
            bgColor:      "#eb4924",
            popupURL:     "https://www.stumbleupon.com/badge/?url={url}",
            popupName:    "stumbleupon",
            popupSpecs:   "toolbar=no, width=550, height=550"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.pinterest}">
        { name: "Pinterest",
            iconClass:    "fa fa-pinterest",
            bgColor:      "#cb2027",
            popupURL:     "https://pinterest.com/pin/create/button/?url={url}{xen:if '{$xenOptions.EHSS_PinterestMedia}', '&media={$xenOptions.EHSS_PinterestMedia}'}&description={title}",
            popupName:    "pinterest",
            popupSpecs:   "toolbar=no, width=700, height=300",
            shareCountID: "pinterest",
            customFix:    1
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.delicious}">
        { name: "Delicious",
            iconClass:    "fa fa-delicious",
            bgColor:      "#3399ff",
            popupURL:     "https://www.delicious.com/save?v=5&noui&jump=close&url={url}&title={title}",
            popupName:    "delicious",
            popupSpecs:   "toolbar=no, width=550, height=550",
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.tumblr}">
        { name: "Tumblr",
            iconClass:    "fa fa-tumblr",
            bgColor:      "#32506d",
            popupURL:     "https://www.tumblr.com/share/link?url={url}&name={title}",
            popupName:    null,
            popupSpecs:   "toolbar=no, width=550, height=550"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.reddit}">
        { name: "Reddit",
            iconClass:    "fa fa-reddit-alien",
            bgColor:      "#5f99cf",
            popupURL:     "https://www.reddit.com/submit?url={url}&text={title}",
            popupName:    null,
            popupSpecs:   "toolbar=no, width=550, height=550"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.vk}">
        { name: "ВКонтакте",
            iconClass:    "fa fa-vk",
            bgColor:      "#45668e",
            popupURL:     "http://vk.com/share.php?url={url}",
            popupName:    null,
            popupSpecs:   "toolbar=no, width=550, height=550",
            shareCountID: "vk"
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.whatsapp}">
        { name: "WhatsApp",
            iconClass:    "fa fa-whatsapp",
            bgColor:      "#4dc247",
            popupURL:     "whatsapp://send?text={title}%20{url}",
            popupName:    "_blank",
            popupSpecs:   ""
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.line}">
        { name: "LINE",
            iconClass:    "ehss ehss-line",
            bgColor:      "#00c300",
            popupURL:     "http://line.me/R/msg/text/{title}%20{url}",
            popupName:    "_blank",
            popupSpecs:   ""
        },
        </xen:if>
        <xen:if is="{$xenOptions.EHSS_SocialSites.email}">
        { name: "E-Mail",
            iconClass:    "fa fa-envelope",
            bgColor:      "#168de2",
            popupURL:     "mailto:?{xen:if '{$xenOptions.EHSS_EmailSubject}', 'subject={$xenOptions.EHSS_EmailSubject}&'}{xen:if '{$xenOptions.EHSS_EmailBody}', 'body={$xenOptions.EHSS_EmailBody}'}", // "&" was intentionally written on the first conditional, just in case admin wanted to disable subject, but not body
            popupName:    "_blank",
            popupSpecs:   ""
        },
        </xen:if>
    ];
</script>]]></template>
  </templates>
  <public_template_modifications>
    <modification template="eh_socialshare" modification_key="EHSS_TM_ehss_001" description="Append comment to tell add-on callback that the widget is being used" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#^.*$#s]]></find>
      <replace><![CDATA[$0<!--EHSS_Widget_Exist-->]]></replace>
    </modification>
    <modification template="pagenode_container" modification_key="EHSS_TM_pc_001" description="Hook to pagenode_container template (adds ability to show widget on top of pages)" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:require css="pagenode.css" />]]></find>
      <replace><![CDATA[$0
<xen:if is="{$xenOptions.EHSS_ViewPages.top}">
	<xen:include template="share_page"></xen:include>
</xen:if>]]></replace>
    </modification>
    <modification template="pagenode_container" modification_key="EHSS_TM_pc_002" description="Hook to pagenode_container template (adds ability to disable default widget on bottom of pages)" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:include template="share_page">
			<xen:set var="$url">{xen:link 'canonical:pages', $page}</xen:set>
		</xen:include>]]></find>
      <replace><![CDATA[<xen:if is="{$xenOptions.EHSS_ViewPages.bottom}"><xen:include template="share_page"></xen:include></xen:if>]]></replace>
    </modification>
    <modification template="page_container_js_head" modification_key="EHSS_TM_pcjh_001" description="Append comment to tell add-on where to include eh_socialshare_js template" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<!--XenForo_Require:JS-->]]></find>
      <replace><![CDATA[<xen:if is="in_array(true, {$xenOptions.EHSS_SocialSites})"><!--EHSS_Require_JS--></xen:if>
$0]]></replace>
    </modification>
    <modification template="share_page" modification_key="EHSS_TM_ss_001" description="Replace share_page template completely (share page widget on threads and pages)" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#^.*$#s]]></find>
      <replace><![CDATA[<xen:if is="in_array(true, {$xenOptions.EHSS_SocialSites})">
	<xen:require css="share_page.css" />
	
	<div class="sharePage jsOnly">
		<xen:hook name="share_page_options">
			<xen:include template="eh_socialshare" />
		</xen:hook>
	</div>
</xen:if>]]></replace>
    </modification>
    <modification template="sidebar_share_page" modification_key="EHSS_TM_sss_001" description="Replace sidebar_share_page template completely (share page widget on sidebar)" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#^.*$#s]]></find>
      <replace><![CDATA[<xen:if is="in_array(true, {$xenOptions.EHSS_SocialSites})">
	<xen:require css="share_page.css" />
	
	<div class="section infoBlock sharePage jsOnly">
		<div class="secondaryContent">
			<xen:hook name="share_page_options">
				<xen:include template="eh_socialshare" />
			</xen:hook>
		</div>
	</div>
</xen:if>]]></replace>
    </modification>
    <modification template="thread_view" modification_key="EHSS_TM_tv_001" description="Hook to thread_view template (adds ability to show widget on top of threads)" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:edithint template="message" />]]></find>
      <replace><![CDATA[$0
<xen:if is="{$xenOptions.EHSS_ViewThreads.top}">
	<xen:include template="share_page"></xen:include>
</xen:if>]]></replace>
    </modification>
    <modification template="thread_view" modification_key="EHSS_TM_tv_002" description="Hook to thread_view template (adds ability to disable default widget on bottom of threads)" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:include template="share_page">
	<xen:set var="$url">{xen:link 'canonical:threads', $thread}</xen:set>
</xen:include>]]></find>
      <replace><![CDATA[<xen:if is="{$xenOptions.EHSS_ViewThreads.bottom}"><xen:include template="share_page"></xen:include></xen:if>]]></replace>
    </modification>
    <modification template="thread_view" modification_key="EHSS_TM_tv_003" description="Hook to thread_view template (adds ability to show widget above quick reply)" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:hook name="thread_view_qr_before" params="{xen:array 'thread={$thread}'}" />]]></find>
      <replace><![CDATA[$0
<xen:if is="{$xenOptions.EHSS_ViewThreads.aboveQuickReply}">
	<xen:include template="share_page">
		<xen:set var="$aboveQuickReply">1</xen:set>
	</xen:include>
</xen:if>]]></replace>
    </modification>
  </public_template_modifications>
  <bb_code_media_sites/>
  <bb_codes/>
</addon>
