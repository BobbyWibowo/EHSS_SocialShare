function out(e){return console.log(logPrefix+e)}function encodeURIComponentStrict(e){return e=encodeURIComponent(e),e=e.replace("~","%7e"),e=e.replace("'","%27")}var logPrefix="[Endless Horizon] Social Share: ";$(document).ready(function(){var e,s=$(".eh_socialshare"),t=$('<div class="eh_socialshare_popup"></div>'),a=$.parseJSON(ehss_settings["data-counts"]),i=0,n=0;t.attr("style","display: none"),t.click(function(){1==$(this).css("opacity")&&$(this).fadeToggle(400,"swing")}),$("body").append(t);var o,c,l,r,d,p;for(t.append($('<div class="items_container"><div class="centered"><ul></ul></div></div>')),l=0;l<ehss_social_sites.length;l++)if(!ehss_social_sites[l].disabled){for(c=ehss_social_sites[l].popupURL,r=0;r<ehss_replace_methods.length;r++){if("string"==typeof ehss_replace_methods[r].value)d=encodeURIComponentStrict(ehss_settings[ehss_replace_methods[r].value]);else switch(ehss_replace_methods[r].value){case 1:d=encodeURIComponentStrict(document.title);break;default:d=""}c=c.replace(ehss_replace_methods[r].key,d)}switch(o=$("<li><a></a></li>"),o.find("a").attr("href",c),o.find("a").attr("data-name",ehss_social_sites[l].popupName),o.find("a").attr("data-specs",ehss_social_sites[l].popupSpecs),p=ehss_social_sites[l].customFix){case 1:o.find("a").removeAttr("href"),o.find("a").attr("data-href",c),o.find("a").attr("data-custom-fix",p),out('Applied custom fix #1: "Prevent pinit.js from hijacking" to an item.')}o.find("a").append($('<span style="background-color: '+ehss_social_sites[l].bgColor+'"></span>')),o.find("a").find("span").append($('<i class="'+ehss_social_sites[l].iconClass+'"></i>')),a&&"string"==typeof ehss_social_sites[l].shareCountID&&ehss_social_sites[l].shareCountID.length>0&&(d=a[ehss_social_sites[l].shareCountID],-1!==d&&(e=1===d?ehss_settings["data-count-title-singular"]:ehss_settings["data-count-title-plural"],o.find("a").find("span").append($('<i class="shareCount" style="color: '+ehss_social_sites[l].bgColor+'" title="'+e.replace("{x}",d)+'">'+d+"</i>")),n+=1)),o.append($("<span>"+ehss_social_sites[l].name+"</span>")),t.find(".items_container .centered ul").append(o),i+=1}t.find(".items_container .centered ul li").click(function(e){e.stopPropagation()}),t.find(".items_container .centered ul li a").click(function(e){if(e.preventDefault(),p=parseInt($(this).attr("data-custom-fix")))switch(p){case 1:window.open($(this).attr("data-href"),$(this).attr("data-name"),$(this).attr("data-specs"))}else window.open($(this).attr("href"),$(this).attr("data-name"),$(this).attr("data-specs"))}),s.click(function(e){e.preventDefault(),"none"==t.css("display")&&t.fadeToggle(400,"swing")}),out(i+" item(s) for the social share widget were initialized."),out("Share counter was initialized for "+n+" item(s).")});