function out(e){return console.log(logPrefix+e)}function encodeURIComponentStrict(e){return e=encodeURIComponent(e),e=e.replace("~","%7e"),e=e.replace("'","%27")}var logPrefix="[Endless Horizon] Social Share: ";$(document).ready(function(){var e=$(".eh_socialshare"),s=$('<div class="eh_socialshare_popup"></div>'),t=$.parseJSON(ehss_settings["data-counts"]),a=0,i=0;s.attr("style","display: none"),s.click(function(){1==$(this).css("opacity")&&$(this).fadeToggle(400,"swing")}),$("body").append(s);var n,o,c,r,l,d;for(s.append($('<div class="items_container"><div class="centered"><ul></ul></div></div>')),c=0;c<ehss_social_sites.length;c++)if(!ehss_social_sites[c].disabled){for(o=ehss_social_sites[c].popupURL,r=0;r<ehss_replace_methods.length;r++){if("string"==typeof ehss_replace_methods[r].value)l=encodeURIComponentStrict(ehss_settings[ehss_replace_methods[r].value]);else switch(ehss_replace_methods[r].value){case 1:l=encodeURIComponentStrict(document.title);break;default:l=""}o=o.replace(ehss_replace_methods[r].key,l)}switch(n=$("<li><a></a></li>"),n.find("a").attr("href",o),n.find("a").attr("data-name",ehss_social_sites[c].popupName),n.find("a").attr("data-specs",ehss_social_sites[c].popupSpecs),d=ehss_social_sites[c].customFix){case 1:n.find("a").removeAttr("href"),n.find("a").attr("data-href",o),n.find("a").attr("data-custom-fix",d),out('Applied custom fix #1: "Prevent pinit.js from hijacking" to an item.')}n.find("a").append($('<span style="background-color: '+ehss_social_sites[c].bgColor+'"></span>')),n.find("a").find("span").append($('<i class="'+ehss_social_sites[c].iconClass+'"></i>')),t&&"string"==typeof ehss_social_sites[c].shareCountID&&ehss_social_sites[c].shareCountID.length>0&&(l=t[ehss_social_sites[c].shareCountID],-1!==l&&(n.find("a").find("span").append($('<i class="shareCount" style="color: '+ehss_social_sites[c].bgColor+'" title="'+ehss_settings["data-count-title"].replace("{x}",l)+'">'+l+"</i>")),i+=1)),n.append($("<span>"+ehss_social_sites[c].name+"</span>")),s.find(".items_container .centered ul").append(n),a+=1}s.find(".items_container .centered ul li").click(function(e){e.stopPropagation()}),s.find(".items_container .centered ul li a").click(function(e){if(e.preventDefault(),d=parseInt($(this).attr("data-custom-fix")))switch(d){case 1:window.open($(this).attr("data-href"),$(this).attr("data-name"),$(this).attr("data-specs"))}else window.open($(this).attr("href"),$(this).attr("data-name"),$(this).attr("data-specs"))}),e.click(function(e){e.preventDefault(),"none"==s.css("display")&&s.fadeToggle(400,"swing")}),out(a+" item(s) for the social share widget were initialized."),out("Share counter was initialized for "+i+" item(s).")});